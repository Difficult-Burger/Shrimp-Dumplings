<view class="container">
  <!-- 顶部标题（已移除） -->
  <!-- <view class="header">Scene1</view> -->

  <!-- 聊天消息列表 -->
  <view class="chat-container">
    <block wx:for="{{messages}}" wx:key="index">
      <view class="message-box">
        <block wx:if="{{item.type=='bot'}}">
          <!-- 新增回复框，点击后播放语音 -->
          <view class="tts-box" bindtap="playTts" data-index="{{index}}" data-text="{{item.text}}">
            播放语音
          </view>
        </block>
        <view class="message {{item.type}}">
          <text>{{item.text}}</text>
        </view>
      </view>
    </block>
  </view>

  <!-- 输入框和发送按钮 -->
  <view class="input-container">
    <input
      class="input-box"
      placeholder="輸入訊息..."
      placeholder-class="placeholder-style"
      bindinput="handleInput"
      bindconfirm="sendMessage"
      maxlength="200"
      value="{{inputValue}}"
    ></input>
    <button class="send-btn" bindtap="sendMessage">发送</button>
  </view>
</view>
